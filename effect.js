let patterns,previousWidth=0,previousHeight=0;const bgcolor=[24,24,16];function windowResized(){document.body.scrollWidth==previousWidth&&document.body.scrollHeight==previousHeight||(resizeCanvas(document.body.scrollWidth,document.body.scrollHeight),previousWidth=document.body.scrollWidth,previousHeight=document.body.scrollHeight,init())}function setup(){createCanvas(document.body.scrollWidth,document.body.scrollHeight).parent("gfxContainer"),init()}function init(){let t=width/2,e=height/2,r=Math.min(width,height)/2;patterns=[{color:new ColorFade([55,12,113],[255,194,0],100),pattern:new ComposedCircle(new ComposedCircle(new ComposedCircle(new Circle(t,e,.8*r,.2),.6*r,.4),.4*r,.6),.2*r,.8)},{color:new ColorFade([255,194,0],[32,26,185],100),pattern:new ComposedCircle(new ComposedCircle(new ComposedCircle(new ComposedCircle(new Circle(t,e,.7*r,.3),.6*r,.4),.5*r,.5),.4*r,.6),.3*r,.7)},{color:new ColorFade([32,26,185],[0,190,190],100),pattern:new ComposedCircle(new ComposedCircle(new ComposedCircle(new ComposedCircle(new ComposedCircle(new Circle(t,e,.1*r,.7),.25*r,.58),.4*r,.46),.55*r,.34),.7*r,.22),.85*r,.1)}],background(bgcolor[0],bgcolor[1],bgcolor[2]),console.log("width: "+width+"; scrollWidth: "+document.body.scrollWidth),console.log("height: "+height+"; scrollHeight: "+document.body.scrollHeight)}function draw(){for(let t=0;t<10;t++)patterns.forEach((t=>{let e=t.pattern.nextCoordinate(),r=t.color.nextColor();stroke(r[0],r[1],r[2]),point(e.x,e.y)}))}class ColorFade{constructor(t,e,r){this.max=r,this.counter=0,this.color1=t,this.color2=e,this.current=[...t],this.forward=!0}nextColor(){if(this.counter==this.max){let t;t=this.forward?[...this.color2]:[...this.color1],this.current[0]<t[0]?this.current[0]=this.current[0]+1:this.current[0]>t[0]&&(this.current[0]=this.current[0]-1),this.current[1]<t[1]?this.current[1]=this.current[1]+1:this.current[1]>t[1]&&(this.current[1]=this.current[1]-1),this.current[2]<t[2]?this.current[2]=this.current[2]+1:this.current[2]>t[2]&&(this.current[2]=this.current[2]-1),this.current[0]==t[0]&&this.current[1]==t[1]&&this.current[2]==t[2]&&(this.forward=!this.forward),this.counter=0}else this.counter=this.counter+1;return this.current}}class Circle{constructor(t,e,r,o){this.cx=t,this.cy=e,this.radius=r,this.step=o,this.angle=0}nextCoordinate(){return this.angle<0?this.angle=359:this.angle-=this.step,coords(this.cx,this.cy,this.radius,this.angle)}}class ComposedCircle{constructor(t,e,r){this.basePattern=t,this.radius=e,this.step=r,this.angle=0}nextCoordinate(){this.angle<0?this.angle=359:this.angle-=this.step;let t=this.basePattern.nextCoordinate();return coords(t.x,t.y,this.radius,this.angle)}}function coords(t,e,r,o){return px=Math.round(t+r*Math.sin(o*Math.PI/180)),py=Math.round(e+r*Math.cos(o*Math.PI/180)),{x:px,y:py}}
